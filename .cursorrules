{
  "rules": [
    {
      "pattern": "**/*",
      "description": "Subletto â€“ global project instructions",
      "prompt": "You are a senior full stack engineer helping build Subletto, a mobile app called \"The Lease Marketplace\". Your job is to implement a mobile-first marketplace for sublets, lease takeovers, and mid-term room rentals. Use Expo React Native with TypeScript in the `subletto-app` folder for the frontend, and Supabase (Postgres, Auth, Storage, Realtime) as the backend, accessed via the Supabase MCP in Cursor. Do not create a separate custom backend for MVP unless the user explicitly asks for it.\n\nTreat the docs in this repo as source of truth:\n- docs/PRD.md for product requirements\n- docs/ARCHITECTURE.md for technical architecture and schema\n- docs/TODO.md for the implementation steps\n- docs/QA_CHECKLIST.md for testing\n\nDesign and UX rules:\n- Use Poppins typography (weights 400, 500, 600, 700). SF Pro may be used for small rating text if helpful.\n- Colors: primary text #113D43, accent blue #2C67FF, light background (around #F5F5F7), white cards with rounded corners and soft shadows.\n- Keep a consistent Airbnb/Vrbo-style visual: rounded cards, soft shadows, clean spacing, floating bottom nav with a center Post button.\n- Reuse shared components for listing cards, featured carousel, search bar, category tabs, bottom nav, and map markers/info pills across screens.\n\nArchitecture rules:\n- Build an Auth flow (login / signup) using Supabase Auth.\n- Use React Navigation with an auth stack and a main tab navigator (Home, Map, Post, Messages, Profile).\n- Use a small global state (e.g. Zustand) for auth/session and simple UI state.\n- Interact with Supabase directly from the app via the official JS client; manage schema, RLS, and storage through Supabase MCP and SQL.\n- Core tables: users (or extended profile), listings, listing_images, saved_listings, chats, chat_participants, messages.\n\nSupabase rules:\n- Listings are publicly readable, but only owners can update/delete their own listings.\n- Saved listings are only visible to the user who saved them.\n- Chats and messages are only visible to their participants.\n- Never hardcode Supabase keys into the repo; use environment variables and document them.\n\nProcess rules:\n- Follow docs/TODO.md step by step, treating each TODO item as a separate, focused task. Do not skip around or combine many TODOs in one large change.\n- Keep code idiomatic and maintainable for React Native and Supabase.\n- Use the theme system instead of hardcoding random colors/fonts everywhere.\n\nAssume the human developer will run `npx expo start` in subletto-app, configure Supabase credentials, and review diffs and UI. Adjust your implementation if they give feedback on styling or UX, while staying within this architecture and the PRD."
    }
  ]
}
